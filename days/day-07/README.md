# Day 7 - Arduino 33 BLE setup - 1

Today I've tried to flash Rust code on the Arduino Nano 33 BLE



## Flash code using Arduino IDE

Let's start with the basics ! I decided to first try to flash the board with the default example from Arduino (the blink example) using the Arduino IDE.

Doing this is very simple, you just need to follow the documentation from the [Arduino website](https://www.arduino.cc/en/Guide/NANO33BLESense), basically you have to:

- Install the IDE
- Download the board package (here Arduino Mbed OS Core)
- Select the example you want to use in the menu (here Blink)
- Configure the IDE by specifying the board type (Arduino Nano 33 BLE) and the port (/dev/cu.usbmodelXXX)
- Click on Upload 

And tadaaaa, you should see the led blink ! ðŸ’¡



It was quite easy but it didn't tell me much about what was happening in background and from what I know in embedded system programing things are never magical ðŸª„. So I decided to search a bit on what was happening and to do so I enabled the logs ðŸ¤“

<details>
  <summary><b>Here is what I got for compilation</b></summary>
	<p> #### Logs
```/private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/arduino-builder -dump-prefs -logger=machine -hardware /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/hardware -hardware /Users/sinitame/Library/Arduino15/packages -tools /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/tools-builder -tools /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/hardware/tools/avr -tools /Users/sinitame/Library/Arduino15/packages -built-in-libraries /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/libraries -libraries /Users/sinitame/Documents/Arduino/libraries -fqbn=arduino:mbed_nano:nano33ble -vid-pid=2341_805A -ide-version=10819 -build-path /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018 -warnings=all -build-cache /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_cache_236445 -prefs=build.warn_data_percentage=75 -prefs=runtime.tools.dfu-util.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/dfu-util/0.10.0-arduino1 -prefs=runtime.tools.dfu-util-0.10.0-arduino1.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/dfu-util/0.10.0-arduino1 -prefs=runtime.tools.arm-none-eabi-gcc.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4 -prefs=runtime.tools.arm-none-eabi-gcc-7-2017q4.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4 -prefs=runtime.tools.openocd.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/openocd/0.11.0-arduino2 -prefs=runtime.tools.openocd-0.11.0-arduino2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/openocd/0.11.0-arduino2 -prefs=runtime.tools.bossac.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/bossac/1.9.1-arduino2 -prefs=runtime.tools.bossac-1.9.1-arduino2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/bossac/1.9.1-arduino2 -prefs=runtime.tools.imgtool.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/imgtool/1.8.0-arduino -prefs=runtime.tools.imgtool-1.8.0-arduino.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/imgtool/1.8.0-arduino -prefs=runtime.tools.rp2040tools.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/rp2040tools/1.0.2 -prefs=runtime.tools.rp2040tools-1.0.2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/rp2040tools/1.0.2 -verbose /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/examples/01.Basics/Blink/Blink.ino
/private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/arduino-builder -compile -logger=machine -hardware /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/hardware -hardware /Users/sinitame/Library/Arduino15/packages -tools /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/tools-builder -tools /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/hardware/tools/avr -tools /Users/sinitame/Library/Arduino15/packages -built-in-libraries /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/libraries -libraries /Users/sinitame/Documents/Arduino/libraries -fqbn=arduino:mbed_nano:nano33ble -vid-pid=2341_805A -ide-version=10819 -build-path /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018 -warnings=all -build-cache /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_cache_236445 -prefs=build.warn_data_percentage=75 -prefs=runtime.tools.dfu-util.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/dfu-util/0.10.0-arduino1 -prefs=runtime.tools.dfu-util-0.10.0-arduino1.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/dfu-util/0.10.0-arduino1 -prefs=runtime.tools.arm-none-eabi-gcc.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4 -prefs=runtime.tools.arm-none-eabi-gcc-7-2017q4.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4 -prefs=runtime.tools.openocd.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/openocd/0.11.0-arduino2 -prefs=runtime.tools.openocd-0.11.0-arduino2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/openocd/0.11.0-arduino2 -prefs=runtime.tools.bossac.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/bossac/1.9.1-arduino2 -prefs=runtime.tools.bossac-1.9.1-arduino2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/bossac/1.9.1-arduino2 -prefs=runtime.tools.imgtool.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/imgtool/1.8.0-arduino -prefs=runtime.tools.imgtool-1.8.0-arduino.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/imgtool/1.8.0-arduino -prefs=runtime.tools.rp2040tools.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/rp2040tools/1.0.2 -prefs=runtime.tools.rp2040tools-1.0.2.path=/Users/sinitame/Library/Arduino15/packages/arduino/tools/rp2040tools/1.0.2 -verbose /private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/examples/01.Basics/Blink/Blink.ino
Using board 'nano33ble' from platform in folder: /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1
Using core 'arduino' from platform in folder: /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1
Detecting libraries used...
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-g++ -c -w -g3 -nostdlib @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/defines.txt @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/cxxflags.txt -DARDUINO_ARCH_NRF52840 -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -w -x c++ -E -CC -DARDUINO=10819 -DARDUINO_ARDUINO_NANO33BLE -DARDUINO_ARCH_MBED_NANO -DARDUINO_ARCH_MBED -DARDUINO_LIBRARY_DISCOVERY_PHASE=1 -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated-avr-comp -iprefix/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/includes.txt /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/sketch/Blink.ino.cpp -o /dev/null
Generating function prototypes...
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-g++ -c -w -g3 -nostdlib @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/defines.txt @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/cxxflags.txt -DARDUINO_ARCH_NRF52840 -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -w -x c++ -E -CC -DARDUINO=10819 -DARDUINO_ARDUINO_NANO33BLE -DARDUINO_ARCH_MBED_NANO -DARDUINO_ARCH_MBED -DARDUINO_LIBRARY_DISCOVERY_PHASE=1 -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated-avr-comp -iprefix/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/includes.txt /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/sketch/Blink.ino.cpp -o /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/preproc/ctags_target_for_gcc_minus_e.cpp
/private/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/AppTranslocation/FD901E4C-4F00-4F7F-84B7-841F5F8B55FF/d/Arduino.app/Contents/Java/tools-builder/ctags/5.8-arduino11/ctags -u --language-force=c++ -f - --c++-kinds=svpf --fields=KSTtzns --line-directives /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/preproc/ctags_target_for_gcc_minus_e.cpp
Compilation du croquis...
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-g++ -c -Wall -Wextra -g3 -nostdlib @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/defines.txt @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/cxxflags.txt -DARDUINO_ARCH_NRF52840 -MMD -mcpu=cortex-m4 -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -DARDUINO=10819 -DARDUINO_ARDUINO_NANO33BLE -DARDUINO_ARCH_MBED_NANO -DARDUINO_ARCH_MBED -DARDUINO_LIBRARY_DISCOVERY_PHASE=0 -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated -I/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino/api/deprecated-avr-comp -iprefix/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/cores/arduino @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/includes.txt /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/sketch/Blink.ino.cpp -o /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/sketch/Blink.ino.cpp.o
Compiling libraries...
Compiling core...
Utilisation du fichier dÃ©jÃ  compilÃ© : /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/core/variant.cpp.o
Using precompiled core: /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_cache_236445/core/core_arduino_mbed_nano_nano33ble_a8211ef55d5cb723d9b59e4bc7c22fcb.a
Linking everything together...
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-g++ -E -P -x c /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/linker_script.ld -o /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/linker_script.ld
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-g++ -L/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018 -Wl,--gc-sections -Wall -Wextra -Wl,--as-needed @/Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/ldflags.txt -T/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/linker_script.ld -Wl,-Map,/var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.map --specs=nosys.specs -o /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.elf /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/sketch/Blink.ino.cpp.o /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/core/variant.cpp.o -Wl,--whole-archive /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/../arduino_cache_236445/core/core_arduino_mbed_nano_nano33ble_a8211ef55d5cb723d9b59e4bc7c22fcb.a /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/libs/libmbed.a /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/libs/libcc_310_core.a /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/libs/libcc_310_ext.a /Users/sinitame/Library/Arduino15/packages/arduino/hardware/mbed_nano/3.0.1/variants/ARDUINO_NANO33BLE/libs/libcc_310_trng.a -Wl,--no-whole-archive -Wl,--start-group -lstdc++ -lsupc++ -lm -lc -lgcc -lnosys -Wl,--end-group
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-objcopy -O binary /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.elf /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.bin
/Users/sinitame/Library/Arduino15/packages/arduino/tools/arm-none-eabi-gcc/7-2017q4/bin/arm-none-eabi-objcopy -O ihex -R .eeprom /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.elf /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.hex
/Users/sinitame/Library/Arduino15/packages/arduino/tools/imgtool/1.8.0-arduino/imgtool exit
    ```
  </p>
</details>

<details>
  <summary><b> And here is what I got for flashing </b></summary>
  <p>
    ```
    Uploading using selected port: /dev/cu.usbmodem1441301
    /Users/sinitame/Library/Arduino15/packages/arduino/tools/bossac/1.9.1-arduino2/bossac -d --port=cu.usbmodem1441301 -U -i -e -w /var/folders/wj/44g0x4sx2gqfwlndqmf0df700000gn/T/arduino_build_882018/Blink.ino.bin -R
    ```
  </p>
</details>



## Understand the flashing process



## Compile and run Rust on the board

